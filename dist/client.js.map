{
  "version": 3,
  "sources": ["../src/shared/config.ts", "../src/client/client.ts"],
  "sourcesContent": ["interface ShopItem {\r\n    label: string;\r\n    item: string;\r\n    price: number;\r\n    icon: string;\r\n    category: 'items' | 'weapons' | 'cars';\r\n    stats?: { speed: number; handling: number };\r\n}\r\n\r\ninterface ShopConfig {\r\n    PickupLocation: { x: number; y: number; z: number };\r\n    Blip: {\r\n        Sprite: number;\r\n        Color: number;\r\n        Scale: number;\r\n        Label: string;\r\n    };\r\n    Items: ShopItem[];\r\n}\r\n\r\nexport const Config: ShopConfig = {\r\n    // Koordinaten der Packstation / Lager\r\n    PickupLocation: { x: 1704.25, y: 3265.0, z: 41.14 },\r\n    \r\n    Blip: {\r\n        Sprite: 478,\r\n        Color: 5,\r\n        Scale: 0.8,\r\n        Label: \"Armersohn Packstation\"\r\n    },\r\n\r\n    Items: [\r\n        { label: \"Flasche Wasser\", item: \"water\", price: 4, icon: \"fas fa-bottle-water\", category: \"items\" },\r\n        { label: \"St\u00FCck Brot\", item: \"bread\", price: 2, icon: \"fas fa-bread-slice\", category: \"items\" },\r\n        { label: \"Modernes Lungenbr\u00F6tchen\", item: \"vape\", price: 5, icon: \"fas fa-smog\", category: \"items\" },\r\n        { label: \"Verbandskasten\", item: \"medikit\", price: 10, icon: \"fas fa-first-aid\", category: \"items\" },\r\n        \r\n        { label: \"Pistole\", item: \"WEAPON_PISTOL\", price: 1000, icon: \"fas fa-gun\", category: \"weapons\" },\r\n        { label: \"Messer\", item: \"WEAPON_KNIFE\", price: 150, icon: \"fas fa-utensils\", category: \"weapons\" },\r\n        \r\n        { label: \"Arschkarre\", item: \"tailgater\", price: 1, icon: \"fas fa-car\", category: \"cars\", stats: { speed: 65, handling: 45 } },\r\n        { label: \"Cards Senti\", item: \"sentinel3\", price: 2, icon: \"fas fa-car-side\", category: \"cars\", stats: { speed: 82, handling: 60 } },\r\n        { label: \"Bati\", item: \"bati\", price: 3, icon: \"fas fa-motorcycle\", category: \"cars\", stats: { speed: 95, handling: 85 } }\r\n    ]\r\n};", "import { Config } from '../shared/config';\r\n\r\nlet ESX: any = null;\r\nlet tabletProp: number | null = null; \r\n\r\nconst getESX = () => {\r\n    if (ESX) return ESX;\r\n    try { ESX = (exports as any)[\"es_extended\"].getSharedObject(); } catch (e) { emit('esx:getSharedObject', (obj: any) => { ESX = obj; }); }\r\n    return ESX;\r\n};\r\n\r\nlet warehouseBlip: number | null = null;\r\n\r\nfunction clearTablet() {\r\n    const playerPed = PlayerPedId();\r\n    ClearPedTasks(playerPed);\r\n    if (tabletProp && DoesEntityExist(tabletProp)) {\r\n        DeleteEntity(tabletProp);\r\n    }\r\n    tabletProp = null;\r\n}\r\n\r\nsetTick(async () => {\r\n    if (warehouseBlip === null) {\r\n        warehouseBlip = AddBlipForCoord(Config.PickupLocation.x, Config.PickupLocation.y, Config.PickupLocation.z);\r\n        SetBlipSprite(warehouseBlip, Config.Blip.Sprite);\r\n        SetBlipColour(warehouseBlip, Config.Blip.Color);\r\n        SetBlipScale(warehouseBlip, Config.Blip.Scale);\r\n        SetBlipAsShortRange(warehouseBlip, true);\r\n        BeginTextCommandSetBlipName(\"STRING\");\r\n        AddTextComponentString(Config.Blip.Label);\r\n        EndTextCommandSetBlipName(warehouseBlip);\r\n    }\r\n\r\n    const playerPed = PlayerPedId();\r\n    const coords = GetEntityCoords(playerPed, true);\r\n    const dist = Vdist(coords[0], coords[1], coords[2], Config.PickupLocation.x, Config.PickupLocation.y, Config.PickupLocation.z);\r\n\r\n    if (dist < 20.0) {\r\n        DrawMarker(27, Config.PickupLocation.x, Config.PickupLocation.y, Config.PickupLocation.z - 0.98, 0, 0, 0, 0, 0, 0, 1.0, 1.0, 1.0, 162, 155, 254, 150, false, false, 2, false, null, null, false);\r\n        \r\n        if (dist < 1.5) {\r\n            BeginTextCommandDisplayHelp(\"STRING\");\r\n            AddTextComponentString(\"Dr\u00FCcke ~INPUT_CONTEXT~ f\u00FCr Paketausgabe\");\r\n            EndTextCommandDisplayHelp(0, false, true, -1);\r\n\r\n            if (IsControlJustReleased(0, 38)) {\r\n                const esxObj = getESX();\r\n                if (esxObj) esxObj.TriggerServerCallback(\"armersohn:getOrders\", (orders: any) => {\r\n                    SetNuiFocus(true, true);\r\n                    SendNUIMessage({ action: \"openPickup\", orders: orders });\r\n                });\r\n            }\r\n        }\r\n    } else { \r\n        await new Promise(r => setTimeout(r, 1000)); \r\n    }\r\n});\r\n\r\nRegisterCommand(\"shop\", async () => {\r\n    const playerPed = PlayerPedId();\r\n    const coords = GetEntityCoords(playerPed, true);\r\n    \r\n    clearTablet();\r\n\r\n    const animDict = \"amb@world_human_seat_wall_tablet@female@base\";\r\n    const modelHash = GetHashKey(\"prop_cs_tablet\");\r\n\r\n    RequestAnimDict(animDict);\r\n    while (!HasAnimDictLoaded(animDict)) await new Promise(r => setTimeout(r, 10));\r\n\r\n    RequestModel(modelHash);\r\n    while (!HasModelLoaded(modelHash)) await new Promise(r => setTimeout(r, 10));\r\n\r\n    tabletProp = CreateObject(modelHash, coords[0], coords[1], coords[2], true, true, false);\r\n    const boneIndex = GetPedBoneIndex(playerPed, 28422);\r\n    AttachEntityToEntity(tabletProp, playerPed, boneIndex, 0.0, 0.0, 0.03, 0.0, 0.0, 0.0, true, true, false, true, 1, true);\r\n\r\n    TaskPlayAnim(playerPed, animDict, \"base\", 8.0, -8.0, -1, 50, 0, false, false, false);\r\n\r\n    SetNuiFocus(true, true);\r\n    SendNUIMessage({\r\n        action: \"open\",\r\n        items: Config.Items \r\n    });\r\n}, false);\r\n\r\nRegisterNuiCallback(\"claim\", (data: any, cb: any) => { \r\n    TriggerServerEvent(\"armersohn:claimItems\", data.items); \r\n    cb(\"ok\"); \r\n});\r\n\r\nRegisterNuiCallback(\"checkout\", (data: any, cb: any) => { \r\n    TriggerServerEvent(\"armersohn:finalCheckout\", data.items, data.delivery); \r\n    cb(\"ok\"); \r\n});\r\n\r\nRegisterNuiCallback(\"purchase\", (data: any, cb: any) => { \r\n    TriggerServerEvent(\"armersohn:purchase\", data); \r\n    cb(\"ok\"); \r\n});\r\n\r\nRegisterNuiCallback(\"close\", (data: any, cb: any) => { \r\n    SetNuiFocus(false, false);\r\n    try { clearTablet(); } catch (e) { console.log(e); }\r\n    cb(\"ok\"); \r\n});\r\n\r\nonNet(\"armersohn:spawnVehicle\", async (model: string, plate: string, color: any, isDelivery: boolean) => {\r\n    const hash = GetHashKey(model);\r\n    RequestModel(hash);\r\n    while (!HasModelLoaded(hash)) await new Promise(r => setTimeout(r, 10));\r\n\r\n    const p = PlayerPedId();\r\n    let sPos, sH;\r\n\r\n    if (isDelivery) {\r\n        const f = GetEntityForwardVector(p); \r\n        const c = GetEntityCoords(p, true);\r\n        sPos = { x: c[0] + f[0] * 4, y: c[1] + f[1] * 4, z: c[2] }; \r\n        sH = GetEntityHeading(p);\r\n    } else {\r\n        sPos = { x: Config.PickupLocation.x, y: Config.PickupLocation.y, z: Config.PickupLocation.z }; \r\n        sH = 172.91;\r\n    }\r\n\r\n    const veh = CreateVehicle(hash, sPos.x, sPos.y, sPos.z, sH, true, false);\r\n    SetVehicleNumberPlateText(veh, plate?.toUpperCase() || \"ARMER\");\r\n    \r\n    if (color) { \r\n        SetVehicleCustomPrimaryColour(veh, color.r, color.g, color.b); \r\n        SetVehicleCustomSecondaryColour(veh, color.r, color.g, color.b); \r\n    }\r\n    \r\n    TaskWarpPedIntoVehicle(p, veh, -1);\r\n});"],
  "mappings": "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",
  "names": []
}
